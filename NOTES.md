# Заметки к урокам

`Буду записывать здесь какие-то интересные моменты и идеи, к которым скорее всего вернусь позже, чтоб лучше в них разобраться.`

## 35-урок

В `State.js` создаем и экспортируем функцию `subscribe`, которая в качестве параметра `observer` принимает коллбэк и заменяет им другую функцию. В данном случае функцию `rerenderEntireTree`. 
```
export const subscribe = (observer) => {
  rerenderEntireTree = observer;
}
```
Импортируем ее в `index.js`, где вызываем с коллбэком, тем самым передав этот коллбэк обратно в state.js.
```
subscribe(rerenderEntireTree);
```
Таким образом мы получили нужную функцию из другого файла, не создав при этом "цикличных импортов".

### Вывод:
Для того, чтоб получить (передать) какие-либо данные из одного файла в другой, можно передать (с помощью `export / import или props`) функцию из первого файла во второй и вызвать ее передав в качестве аргументов целевые данные.

`Еще проще:`

Передав функцию из одного файла в другой и вызвав ее там с аргументом, можно получить этот аргумент в первом файле.

`Заодно наконец-то разобрался с терминами:`
 + `Параметр` - переменная функции, в которую будет записано значение извне, переданное с помощью `аргумента` при вызове функции.

 + Соответственно, `Аргумент` - значение, которое будет записано в `параметр`.
 
 Другими словами, `параметры` определяются при объявлении функции, а `аргументы` передаются при ее вызове. 



## 37-урок

С помощью `.bind()` привязал контекст вызова к объекту `store {}`, чтоб при передаче метода в компонент и его последующем вызове, `this` не терялся и не становился `undefined`.


~~Не~~ Получилось разобраться как вместо `.bind()` использовать стрелочную функцию, ~~почему-то ее контекстом считается глобальный объект~~. ~~Возможно,~~ Нужно использовать ~~конструктор~~ класс и class fields и тогда методу-стрелке будет присвоен контекст функции, с помощью которой будет создан инстанс, т.е. контекстом станет созданный объект.

<hr>
Реализовал выбор диалога по клику на имя собеседника. Скорее всего структуру хранения диалогов нужно будет изменить, но для тренировки подключения компонента к store, пойдет и такой вариант.


## 45 - 47 уроки

В предыдущих коммитах переделал контейнерные копоненты, а в этом
+ подключил React-Redux и переписал контейнеры с использованием `connect()`. Пришлось исправлять редюсеры чтоб стейт менялся иммутабельно (теперь стейт не изменяется напрямую, а создается его копия и редьюсер меняет данные в копие)

+ удалил подписку на изменение стора, т.к. она уже реализована с помощью `connect` и `provider` из `React-Redux`.

## 48 урок

Урок очень полезен для понимания иммутабельности.

Сделал рефакторинг редюсеров.

## 50 - 54 уроки

Подключил axios, сделал запрос пользователей с сервера, добавил в редюсер добавление/очистку списка пользователей и вызываю ее при монтировании/удалении компонента UsersList.


## 55 - 57 уроки

Добавил пагинацию и индикатор загрузки, немного поработал с логикой отображения аватарки.
